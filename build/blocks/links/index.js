(()=>{"use strict";const e=window.React,t=window.wp.blocks,n=window.wp.data,l=window.wp.coreData,a=window.wp.blockEditor,i=window.wp.components;(0,t.registerBlockType)("mve-timeline/links",{edit:({setAttributes:t,attributes:r})=>{const o=(0,a.useBlockProps)(),s=(0,n.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[m,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(""),[p,w]=(0,l.useEntityProp)("postType",s,"meta");let k=p.mve_timeline_links;return k=k?JSON.parse(k):[],(0,e.createElement)(i.Card,{...o},(0,e.createElement)(i.CardHeader,null,(0,e.createElement)(i.__experimentalHeading,{level:4},"Links")),(0,e.createElement)(i.CardBody,null,(0,e.createElement)("ul",{style:{overflowX:"auto",listStyleType:"none",padding:0,margin:0,marginBottom:"1rem"}},k.map((t=>(0,e.createElement)("li",{key:t.url,style:{whiteSpace:"nowrap"}},(0,e.createElement)(i.Button,{isDestructive:!0,size:"small",onClick:()=>(e=>{const t=[];for(const n of k)n.name===e.name&&n.url===e.url||t.push(n);w({...p,mve_timeline_links:JSON.stringify(t)})})(t)},"X")," ",t.name," - ",t.url)))),(0,e.createElement)(i.TextControl,{value:m,onChange:e=>c(e),label:"Title"}),(0,e.createElement)(i.TextControl,{value:u,onChange:e=>d(e),label:"URL"}),(0,e.createElement)(i.Button,{size:"small",variant:"secondary",onClick:()=>{k.push({name:m,url:u}),w({...p,mve_timeline_links:JSON.stringify(k)}),c(""),d("")},disabled:!(m&&u)},"Add link")))},save:()=>null})})();