(()=>{"use strict";const e=window.wp.blocks,t=window.wp.data,n=window.wp.coreData,i=window.wp.blockEditor,l=window.wp.components,s=window.React,o=window.ReactJSXRuntime;let r,a,c=null;const d=function(){const[e,t]=(0,s.useState)(""),[n,i]=(0,s.useState)("");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("ul",{style:{overflowX:"auto",listStyleType:"none",padding:0,margin:0,marginBottom:"1rem"},children:c.map(e=>(0,o.jsxs)("li",{style:{whiteSpace:"nowrap"},children:[(0,o.jsx)(l.Button,{isDestructive:!0,size:"small",onClick:()=>(e=>{const t=[];for(const n of c)n.name===e.name&&n.url===e.url||t.push(n);a({...r,mve_timeline_links:JSON.stringify(t)})})(e),children:"X"})," ",e.name," - ",e.url]},e.url))}),(0,o.jsx)(l.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,value:e,onChange:e=>t(e),label:"Title"}),(0,o.jsx)(l.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,value:n,onChange:e=>i(e),label:"URL"}),(0,o.jsx)(l.Button,{size:"small",variant:"secondary",onClick:()=>{c.push({name:e,url:n}),a({...r,mve_timeline_links:JSON.stringify(c)}),t(""),i("")},disabled:!(e&&n),children:"Add link"})]})};(0,e.registerBlockType)("mve-timeline/links",{edit:({setAttributes:e,attributes:s})=>{const u=(0,i.useBlockProps)(),m=(0,t.useSelect)(e=>e("core/editor").getCurrentPostType(),[]),[p,w]=(0,n.useEntityProp)("postType",m,"meta");return function(e,t){r=e,a=t,c=e.mve_timeline_links,c=c?JSON.parse(c):[]}(p,w),(0,o.jsxs)(l.Card,{...u,children:[(0,o.jsx)(l.CardHeader,{children:(0,o.jsx)(l.__experimentalHeading,{level:4,children:"Links"})}),(0,o.jsx)(l.CardBody,{children:(0,o.jsx)(d,{})})]})},save:()=>null})})();