(()=>{"use strict";const e=window.React,t=window.wp.blocks,l=window.wp.data,n=window.wp.coreData,a=window.wp.blockEditor,i=window.wp.components;(0,t.registerBlockType)("mve-timeline/links",{edit:({setAttributes:t,attributes:r})=>{const s=(0,a.useBlockProps)(),o=(0,l.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[c,m]=(0,e.useState)(""),[u,d]=(0,e.useState)(""),[p,w]=(0,n.useEntityProp)("postType",o,"meta");let k=p.mve_timeline_links;return k=k?JSON.parse(k):[],(0,e.createElement)(i.Card,{...s},(0,e.createElement)(i.CardHeader,null,(0,e.createElement)(i.__experimentalHeading,{level:4},"Links")),(0,e.createElement)(i.CardBody,null,(0,e.createElement)("ul",null,k.map((t=>(0,e.createElement)("li",{key:t.url},t.name," - ",t.url,(0,e.createElement)(i.Button,{isDestructive:!0,size:"small",onClick:()=>(e=>{const t=[];for(const l of k)l.name===e.name&&l.url===e.url||t.push(l);w({...p,mve_timeline_links:JSON.stringify(t)})})(t)},"X"))))),(0,e.createElement)(i.TextControl,{value:c,onChange:e=>m(e),label:"Title"}),(0,e.createElement)(i.TextControl,{value:u,onChange:e=>d(e),label:"URL"}),(0,e.createElement)(i.Button,{size:"small",variant:"secondary",onClick:()=>{k.push({name:c,url:u}),w({...p,mve_timeline_links:JSON.stringify(k)}),m(""),d("")},disabled:!(c&&u)},"Add link")))},save:()=>null})})();