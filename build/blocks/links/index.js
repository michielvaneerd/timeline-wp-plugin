(()=>{"use strict";const e=window.React,t=window.wp.blocks,n=window.wp.data,l=window.wp.coreData,r=window.wp.blockEditor,a=window.wp.components;let i,o,s=null;const c=function(){const[t,n]=(0,e.useState)(""),[l,r]=(0,e.useState)("");return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{style:{overflowX:"auto",listStyleType:"none",padding:0,margin:0,marginBottom:"1rem"}},s.map((t=>(0,e.createElement)("li",{key:t.url,style:{whiteSpace:"nowrap"}},(0,e.createElement)(a.Button,{isDestructive:!0,size:"small",onClick:()=>(e=>{const t=[];for(const n of s)n.name===e.name&&n.url===e.url||t.push(n);o({...i,mve_timeline_links:JSON.stringify(t)})})(t)},"X")," ",t.name," - ",t.url)))),(0,e.createElement)(a.TextControl,{value:t,onChange:e=>n(e),label:"Title"}),(0,e.createElement)(a.TextControl,{value:l,onChange:e=>r(e),label:"URL"}),(0,e.createElement)(a.Button,{size:"small",variant:"secondary",onClick:()=>{s.push({name:t,url:l}),o({...i,mve_timeline_links:JSON.stringify(s)}),n(""),r("")},disabled:!(t&&l)},"Add link"))};(0,t.registerBlockType)("mve-timeline/links",{edit:({setAttributes:t,attributes:m})=>{const u=(0,r.useBlockProps)(),d=(0,n.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[p,w]=(0,l.useEntityProp)("postType",d,"meta");return function(e,t){i=e,o=t,s=e.mve_timeline_links,s=s?JSON.parse(s):[]}(p,w),(0,e.createElement)(a.Card,{...u},(0,e.createElement)(a.CardHeader,null,(0,e.createElement)(a.__experimentalHeading,{level:4},"Links")),(0,e.createElement)(a.CardBody,null,(0,e.createElement)(c,null)))},save:()=>null})})();