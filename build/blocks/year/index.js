(()=>{"use strict";const e=window.React,t=window.wp.blocks,n=window.wp.components,a=window.wp.data,r=window.wp.coreData,i=window.wp.blockEditor;(0,t.registerBlockType)("mve-timeline/year",{edit:({setAttributes:t,attributes:l})=>{const o=(0,i.useBlockProps)(),m=(0,a.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),s=(0,a.useSelect)((e=>e("core/editor").getCurrentPostId()),[]),{editEntityRecord:c}=(0,a.useDispatch)("core"),d=(0,a.useSelect)((e=>e("core").getEntityRecords("taxonomy","mve_timeline",{orderBy:"name",order:"asc",per_page:-1}))),p=(0,a.useSelect)((e=>e("core/editor").getEditedPostAttribute("mve_timeline")),[]),u=[{value:0,label:"Choose timeline..."}].concat(d?d.map((e=>({value:e.id,label:e.name}))):[]),[_,v]=(0,r.useEntityProp)("postType",m,"meta"),w=_.mve_timeline_year,y=_.mve_timeline_year_end;return(0,e.createElement)(n.Card,{...o},(0,e.createElement)(n.CardHeader,null,(0,e.createElement)(n.__experimentalHeading,{level:4},"Year and timeline")),(0,e.createElement)(n.CardBody,null,(0,e.createElement)(n.TextControl,{onChange:e=>{""===e?v({..._,mve_timeline_year:""}):(e=parseInt(e,10),v({..._,mve_timeline_year:isNaN(e)?"":e}))},value:w,label:"Year start"}),(0,e.createElement)(n.TextControl,{onChange:e=>{""===e?v({..._,mve_timeline_year_end:""}):(e=parseInt(e,10),v({..._,mve_timeline_year_end:isNaN(e)?"":e}))},value:y,label:"Year end"}),(0,e.createElement)(n.SelectControl,{label:"Timeline",options:u,onChange:function(e){e=parseInt(e,10),c("postType","mve_timeline_item",s,{mve_timeline:isNaN(e)?[0]:[parseInt(e,10)]})},value:p?p[0]:""})))},save:()=>null})})();