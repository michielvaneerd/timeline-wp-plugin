(()=>{"use strict";const e=window.React,t=window.wp.blocks,n=window.wp.components,l=window.wp.data,r=window.wp.coreData,i=window.wp.blockEditor;(0,t.registerBlockType)("mve-timeline/year",{edit:({setAttributes:t,attributes:a})=>{var o,m;const s=(0,i.useBlockProps)(),c=(0,l.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),d=(0,l.useSelect)((e=>e("core/editor").getCurrentPostId()),[]),{editEntityRecord:u}=(0,l.useDispatch)("core"),p=(0,l.useSelect)((e=>e("core").getEntityRecords("taxonomy","mve_timeline",{orderBy:"name",order:"asc",per_page:-1}))),_=(0,l.useSelect)((e=>e("core/editor").getEditedPostAttribute("mve_timeline")),[]),v=[{value:0,label:"Choose timeline..."}].concat(p?p.map((e=>({value:e.id,label:e.name}))):[]),[w,y]=(0,r.useEntityProp)("postType",c,"meta"),g=null!==(o=w.mve_timeline_year)&&void 0!==o?o:"",C=null!==(m=w.mve_timeline_year_end)&&void 0!==m?m:"";return(0,e.createElement)(n.Card,{...s},(0,e.createElement)(n.CardHeader,null,(0,e.createElement)(n.__experimentalHeading,{level:4},"Year and timeline")),(0,e.createElement)(n.CardBody,null,(0,e.createElement)(n.TextControl,{onChange:e=>{""===e?y({...w,mve_timeline_year:null}):(e=parseInt(e,10),y({...w,mve_timeline_year:isNaN(e)?null:e.toString()}))},value:g,label:"Year start"}),(0,e.createElement)(n.TextControl,{onChange:e=>{""===e?y({...w,mve_timeline_year_end:null}):(e=parseInt(e,10),y({...w,mve_timeline_year_end:isNaN(e)?null:e.toString()}))},value:C,label:"Year end"}),(0,e.createElement)(n.SelectControl,{label:"Timeline",options:v,onChange:function(e){e=parseInt(e,10),u("postType","mve_timeline_item",d,{mve_timeline:isNaN(e)?[0]:[parseInt(e,10)]})},value:_?_[0]:""})))},save:()=>null})})();