(()=>{"use strict";const e=window.React,t=window.wp.blocks,n=window.wp.components,r=window.wp.data,i=window.wp.coreData,o=window.wp.blockEditor;(0,t.registerBlockType)("mve-timeline/year",{edit:({setAttributes:t,attributes:a})=>{const l=(0,o.useBlockProps)(),s=(0,r.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),c=(0,r.useSelect)((e=>e("core/editor").getCurrentPostId()),[]),{editEntityRecord:m}=(0,r.useDispatch)("core"),d=(0,r.useSelect)((e=>e("core").getEntityRecords("taxonomy","mve_timeline",{orderBy:"name",order:"asc",per_page:-1}))),p=(0,r.useSelect)((e=>e("core/editor").getEditedPostAttribute("mve_timeline")),[]),u=[{value:0,label:"Choose timeline..."}].concat(d?d.map((e=>({value:e.id,label:e.name}))):[]),[w,v]=(0,i.useEntityProp)("postType",s,"meta"),y=w.mve_timeline_year;return(0,e.createElement)(n.Card,{...l},(0,e.createElement)(n.CardHeader,null,(0,e.createElement)(n.__experimentalHeading,{level:4},"Year and timeline")),(0,e.createElement)(n.CardBody,null,(0,e.createElement)(n.TextControl,{onChange:e=>{e=parseInt(e,10),v({...w,mve_timeline_year:isNaN(e)?0:e})},value:y,label:"Year"}),(0,e.createElement)(n.SelectControl,{label:"Timeline",options:u,onChange:function(e){e=parseInt(e,10),m("postType","mve_timeline_item",c,{mve_timeline:isNaN(e)?[0]:[parseInt(e,10)]})},value:p?p[0]:""})))},save:()=>null})})();