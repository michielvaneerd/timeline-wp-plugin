(()=>{"use strict";const e=window.wp.blocks,t=window.wp.components,n=window.wp.data,l=window.wp.coreData,i=window.wp.blockEditor,a=window.ReactJSXRuntime;let o,r,_,s,m,d,u,c,x,p,v=null;function y(e){e=parseInt(e,10),v("postType","mve_timeline_item",_,{mve_timeline:isNaN(e)?[0]:[parseInt(e,10)]})}const g=e=>{""===e?r({...o,mve_timeline_year:null}):(e=parseInt(e,10),r({...o,mve_timeline_year:isNaN(e)?null:e.toString()}))},w=e=>{r(""===e?{...o,mve_timeline_year_name:null}:{...o,mve_timeline_year_name:e})},C=e=>{""===e?r({...o,mve_timeline_year_end:null}):(e=parseInt(e,10),r({...o,mve_timeline_year_end:isNaN(e)?null:e.toString()}))},h=e=>{r(""===e?{...o,mve_timeline_year_end_name:null}:{...o,mve_timeline_year_end_name:e})},S={backgroundColor:"red",color:"white"},b=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.__experimentalHStack,{children:[(0,a.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,style:u?null:S,onChange:g,value:u,label:"Year start *"}),(0,a.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,onChange:C,value:c,label:"Year end"})]}),(0,a.jsxs)(t.__experimentalHStack,{children:[(0,a.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,onChange:w,value:x,label:"Year start name"}),(0,a.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,onChange:h,value:p,label:"Year end name"})]}),(0,a.jsx)(t.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,style:m&&0!==m.length&&0!==m[0]?null:S,label:"Timeline *",options:d,onChange:y,value:m?m[0]:""})]})};(0,e.registerBlockType)("mve-timeline/year",{edit:({setAttributes:e,attributes:y})=>{const g=(0,i.useBlockProps)(),w=(0,n.useSelect)(e=>e("core/editor").getCurrentPostType(),[]),C=(0,n.useSelect)(e=>e("core/editor").getCurrentPostId(),[]),[h,S]=(0,l.useEntityProp)("postType",w,"meta");return function(e,t,l){var i,a,y,g;o=e,r=t,_=l;const w=(0,n.useDispatch)("core");v=w.editEntityRecord,s=(0,n.useSelect)(e=>e("core").getEntityRecords("taxonomy","mve_timeline",{orderBy:"name",order:"asc",per_page:-1})),m=(0,n.useSelect)(e=>e("core/editor").getEditedPostAttribute("mve_timeline"),[]),d=[{value:0,label:"Choose timeline..."}].concat(s?s.map(e=>({value:e.id,label:e.name})):[]),u=null!==(i=e.mve_timeline_year)&&void 0!==i?i:"",c=null!==(a=e.mve_timeline_year_end)&&void 0!==a?a:"",x=null!==(y=e.mve_timeline_year_name)&&void 0!==y?y:"",p=null!==(g=e.mve_timeline_year_end_name)&&void 0!==g?g:""}(h,S,C),(0,a.jsxs)(t.Card,{...g,children:[(0,a.jsx)(t.CardHeader,{children:(0,a.jsx)(t.__experimentalHeading,{level:4,children:"Year and timeline"})}),(0,a.jsx)(t.CardBody,{children:(0,a.jsx)(b,{})})]})},save:()=>null})})();