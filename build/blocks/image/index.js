(()=>{"use strict";const e=window.React,t=window.wp.blocks,i=window.wp.data,l=window.wp.coreData,a=window.wp.blockEditor,n=window.wp.components;(0,t.registerBlockType)("mve-timeline/image",{edit:({setAttributes:t,attributes:r})=>{var o;const c=(0,a.useBlockProps)(),m=(0,i.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[s,d]=(0,l.useEntityProp)("postType",m,"meta"),u=s.mve_timeline_image,p=null!==(o=s.mve_timeline_image_source)&&void 0!==o?o:"",v=(0,i.useSelect)((e=>e("core").getMedia(u)),[u]),w=e=>{const t={...s,mve_timeline_image:e?e.id:null};e||(t.mve_timeline_image_source=null),d(t)};return(0,e.createElement)("div",{...c},(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)("div",{style:{display:"block"}},(0,e.createElement)(n.__experimentalText,{upperCase:!0},"Image")),(0,e.createElement)(a.MediaUpload,{onSelect:w,allowedTypes:["image"],value:u,render:({open:t})=>(0,e.createElement)(e.Fragment,null,v&&(0,e.createElement)("div",{style:{display:"block"}},(0,e.createElement)(n.ResponsiveWrapper,{naturalWidth:v.media_details.width,naturalHeight:v.media_details.height},(0,e.createElement)("img",{src:v.source_url}))),(0,e.createElement)("div",{style:{display:"block"}},!v&&(0,e.createElement)(n.Button,{variant:"secondary",onClick:t},"Open Media Library"),v&&(0,e.createElement)(n.Button,{onClick:()=>w(null),isLink:!0,isDestructive:!0},"Remove image")))})),v&&(0,e.createElement)(n.TextControl,{value:p,onChange:e=>{d({...s,mve_timeline_image_source:e})},label:"Image source"}))},save:()=>null})})();